{"version":3,"sources":["HistoryTimeline.module.scss","Viz.module.scss","App.module.scss","Viz.js","HistoryTimeline.js","lib/errors.js","lib/return.js","lib/locate.js","lib/evaluate.js","lib/context.js","lib/record.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","timeline","step","selected","runtimeError","obj","scope","isCurrent","item","var","kind","split","col","code","markedPre","markedPost","emptyDivider","main","error","Viz","_ref","_ref$step","context","node","summary","pre","detail","react_default","a","createElement","className","styles","Scope","scopeRef","current","currentScope","objects","map","i","key","Obj","_ref2","type","Object","values","properties","v","Var","elements","value","Value","_ref3","_cx","scopes","vars","variables","cx","defineProperty","children","childRef","_ref4","_ref4$v","name","undefined","_ref5","concat","object_ref","HistoryTimeline","history","onChange","onKeyDown","useCallback","e","keyCode","href","onClick","preventDefault","stopPropagation","parseInt","NotImplemented","_Error","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","wrapNativeSuper","Error","NotSupported","_Error2","RuntimeError","_Error3","message","call","loc","start","line","column","Return","from","regenerator_default","mark","_callee","mkgen","wrap","_context","prev","next","delegateYield","abrupt","t0","t1","stop","locate","lookup","ref","parent","lookupProperty","object","prototype","locators","namedArgs","locator","_args","length","console","_marked","Identifier","defining_scope_ref","_context2","scope_ref","site","MemberExpression","_callee2","_ref$makeIfNonexisten","makeIfNonexistent","objectValue","defining_object_ref","_context3","evaluate","property","invokeFunction","evaluators","evaluator","evaluate_marked","applyOperator","op","b","args","definingScope","params","body","executionScope","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","param","executionContext","_context7","push","entries","Symbol","iterator","done","slicedToArray","return","finish","objectSpread","_callee5","_context6","skipScope","t2","_marked2","File","program","Program","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","statement","BlockStatement","_callee3","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_context4","ReturnStatement","_callee4","returnValue","_context5","argument","CallExpression","_callee6","callee","argnodes","fnValue","fn","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","argnode","ret","_context8","t3","t4","t5","FunctionDeclaration","_callee7","_context9","async","generator","id","ObjectProperty","_callee8","_ref6","_context10","ObjectExpression","_callee9","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","_context11","ArrayExpression","_callee10","arr","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","el","_context12","ArrowFunctionExpression","_callee11","_context13","BinaryExpression","_callee12","left","right","leftValue","rightValue","_context14","operator","_callee13","_ref7","_context15","_callee14","location","_context16","AssignmentExpression","_callee15","_ref8","_context17","ExpressionStatement","_callee16","_context18","expression","VariableDeclaration","_callee17","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","declaration","_context19","declarations","VariableDeclarator","_callee18","_ref9","_context20","init","NullLiteral","_callee19","_context21","StringLiteral","_callee20","_context22","NumericLiteral","_callee21","_context23","BooleanLiteral","_callee22","_context24","record","runtime","parse","report","deepcopy","err","log","usePersistedCode","createPersistedState","usePersistedMaxDetail","usePersistedStepno","CM_OPTS","mode","theme","lineNumbers","smartIndent","tabSize","indentWithTabs","Boolean","window","hostname","match","render","inst","useRef","editor","marker","_usePersistedCode","_usePersistedCode2","setCode","_useMemo","useMemo","_usePersistedStepno","_usePersistedStepno2","_stepno","setStepno","_usePersistedMaxDetai","_usePersistedMaxDetai2","maxDetail","setMaxDetail","visibleHistory","filter","stepno","Math","max","min","useEffect","clear","doc","getDoc","markText","ch","end","react_codemirror2","options","editorDidMount","onBeforeChange","data","checked","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"4EACAA,EAAAC,QAAA,CAAkBC,SAAA,kCAAAC,KAAA,8BAAAC,SAAA,kCAAAC,aAAA,0DCAlBL,EAAAC,QAAA,CAAkBK,IAAA,iBAAAC,MAAA,mBAAAC,UAAA,uBAAAC,KAAA,kBAAAC,IAAA,iBAAAC,KAAA,kBAAAC,MAAA,mBAAAC,IAAA,yECAlBb,EAAAC,QAAA,CAAkBa,KAAA,kBAAAC,UAAA,uBAAAC,WAAA,wBAAAC,aAAA,0BAAAC,KAAA,kBAAAC,MAAA,qOCGHC,EAAA,SAAAC,GAA4D,IAAAC,EAAAD,EAAjDlB,KAAcoB,GAAmCD,EAAzCE,KAAyCF,EAAnCC,SAAcE,GAAqBH,EAA1BI,IAA0BJ,EAArBG,SAAqBH,EAAZK,OAC7D,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,UAAKL,IAEPG,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOpB,OACrBgB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOnB,KACrBe,EAAAC,EAAAC,cAACG,EAAD,CACEV,QAASA,EACTW,SAAU,EACVC,QAASZ,EAAQa,gBAGrBR,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOnB,KACpBU,EAAQc,QAAQC,IAAI,SAAChC,EAAKiC,GACzB,OACEX,EAAAC,EAAAC,cAAA,OAAKU,IAAKD,GACRX,EAAAC,EAAAC,cAAA,sBAAcS,GACdX,EAAAC,EAAAC,cAACW,EAAD,CAAKnC,IAAKA,WAU1B,SAASmC,EAATC,GAAsB,IAAPpC,EAAOoC,EAAPpC,IACb,MAAiB,WAAbA,EAAIqC,KAEJf,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO1B,KACpBsC,OAAOC,OAAOvC,EAAIwC,YAAYR,IAAI,SAACS,EAAGR,GAAJ,OACjCX,EAAAC,EAAAC,cAACkB,EAAD,CAAKR,IAAKD,EAAGQ,EAAGA,OAIA,UAAbzC,EAAIqC,KAEXf,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO1B,KACpBsC,OAAOC,OAAOvC,EAAI2C,UAAUX,IAAI,SAACY,EAAOX,GAAR,OAC/BX,EAAAC,EAAAC,cAAA,OAAKU,IAAKD,EAAGR,UAAWC,IAAOvB,MAC7BmB,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAOrB,MAAxB,QADF,IAC4CiB,EAAAC,EAAAC,cAACqB,EAAD,CAAOD,MAAOA,OAG3DN,OAAOC,OAAOvC,EAAIwC,YAAYR,IAAI,SAACS,EAAGR,GAAJ,OACjCX,EAAAC,EAAAC,cAACkB,EAAD,CAAKR,IAAKD,EAAGQ,EAAGA,OAKf,KAIX,SAASd,EAATmB,GAA+C,IAAAC,EAA9B9B,EAA8B6B,EAA9B7B,QAASW,EAAqBkB,EAArBlB,SAAUC,EAAWiB,EAAXjB,QAC5B5B,EAAQgB,EAAQ+B,OAAOpB,GACvB1B,EAAY2B,IAAYD,EACxBqB,EAAOX,OAAOC,OAAOtC,EAAMiD,WAEjC,OACE5B,EAAAC,EAAAC,cAAA,OACEC,UAAW0B,KAAEJ,EAAA,GAAAT,OAAAc,EAAA,EAAAd,CAAAS,EAAIrB,IAAOzB,OAAQ,GAAnBqC,OAAAc,EAAA,EAAAd,CAAAS,EAA0BrB,IAAOxB,UAAYA,GAA7C6C,KAEZE,EAAKjB,IAAI,SAACS,EAAGR,GAAJ,OACRX,EAAAC,EAAAC,cAACkB,EAAD,CAAKR,IAAKD,EAAGQ,EAAGA,MAEjBxC,EAAMoD,SAASrB,IAAI,SAAAsB,GAAQ,OAC1BhC,EAAAC,EAAAC,cAAA,OAAKU,IAAKoB,GACRhC,EAAAC,EAAAC,cAACG,EAAD,CAAOV,QAASA,EAASW,SAAU0B,EAAUzB,QAASA,QAOhE,SAASa,EAATa,GAA2C,IAAAC,EAAAD,EAA5Bd,EAAKpC,EAAuBmD,EAAvBnD,KAAMoD,EAAiBD,EAAjBC,KAAMb,EAAWY,EAAXZ,MAC9B,OACEtB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOtB,KACrBkB,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAOrB,MAAOA,GADjC,IAC+CoD,EAAM,SACxCC,IAAVd,GACCtB,EAAAC,EAAAC,cAAA,YACY,WAATnB,EAAA,QACDiB,EAAAC,EAAAC,cAACqB,EAAD,CAAOD,MAAOA,MAOxB,SAASC,EAATc,GAA0B,IAATf,EAASe,EAATf,MACf,MAAqB,kBAAVA,EAAoB,IAAAgB,OAAWhB,EAAX,KACV,kBAAVA,GAAsB,eAAgBA,EAC/C,WAAAgB,OAAkBhB,EAAMiB,YACL,mBAAVjB,EAAqB,GAAAgB,OAAUhB,GACnCA,uBChGM,SAASkB,EAAT/C,GAKZ,IAJDgD,EAIChD,EAJDgD,QACAnB,EAGC7B,EAHD6B,MACAoB,EAECjD,EAFDiD,SACAjE,EACCgB,EADDhB,aAEMkE,EAAYC,sBAChB,SAAAC,GACoB,KAAdA,EAAEC,QACJJ,EAASpB,EAAQ,GACM,KAAduB,EAAEC,SACXJ,EAASpB,EAAQ,IAGrB,CAACA,EAAOoB,IAGV,OACE1C,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO9B,SAAUqE,UAAWA,GACzCF,EAAQ/B,IAAI,SAACnC,EAAMoC,GAAM,IAAAc,EACxB,OACEzB,EAAAC,EAAAC,cAAA,KACEU,IAAKD,EACLoC,KAAK,IACLC,QAAS,SAAAH,GACPA,EAAEI,iBACFJ,EAAEK,kBACFR,EAAS/B,IAEXR,UAAW0B,KAAEJ,EAAA,GAAAT,OAAAc,EAAA,EAAAd,CAAAS,EACVrB,IAAO7B,MAAO,GADJyC,OAAAc,EAAA,EAAAd,CAAAS,EAEVrB,IAAO5B,SAAWmC,IAAMwC,SAAS7B,IAFvBG,QAOlBhD,GACCuB,EAAAC,EAAAC,cAAA,OAAKC,UAAW0B,IAAG,CAACzB,IAAO7B,KAAM6B,IAAO3B,qFCzCnC2E,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAApC,OAAAsC,EAAA,EAAAtC,CAAAuC,KAAAH,GAAApC,OAAAwC,EAAA,EAAAxC,CAAAuC,KAAAvC,OAAAyC,EAAA,EAAAzC,CAAAoC,GAAAM,MAAAH,KAAAI,YAAA,OAAA3C,OAAA4C,EAAA,EAAA5C,CAAAoC,EAAAC,GAAAD,EAAA,CAAApC,OAAA6C,EAAA,EAAA7C,CAAoC8C,QACvBC,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAA/C,OAAAsC,EAAA,EAAAtC,CAAAuC,KAAAQ,GAAA/C,OAAAwC,EAAA,EAAAxC,CAAAuC,KAAAvC,OAAAyC,EAAA,EAAAzC,CAAA+C,GAAAL,MAAAH,KAAAI,YAAA,OAAA3C,OAAA4C,EAAA,EAAA5C,CAAA+C,EAAAC,GAAAD,EAAA,CAAA/C,OAAA6C,EAAA,EAAA7C,CAAkC8C,QAErBG,EAAb,SAAAC,GACE,SAAAD,EAAYE,EAASvE,GAAO,OAAAoB,OAAAsC,EAAA,EAAAtC,CAAAuC,KAAAU,GAAAjD,OAAAwC,EAAA,EAAAxC,CAAAuC,KAAAvC,OAAAyC,EAAA,EAAAzC,CAAAiD,GAAAG,KAAAb,KAAA,GAAAjB,OAErB6B,EAFoB,MAAA7B,OAER1C,EAAKmB,KAFG,OAAAuB,OAEO1C,EAAKyE,IAAIC,MAAMC,KAFtB,KAAAjC,OAGrB1C,EAAKyE,IAAIC,MAAME,OAHM,OAD7B,OAAAxD,OAAA4C,EAAA,EAAA5C,CAAAiD,EAAAC,GAAAD,EAAA,CAAAjD,OAAA6C,EAAA,EAAA7C,CAAkC8C,gCCH3B,IAAMW,EACX,SAAAA,EAAYnD,GAAQN,OAAAsC,EAAA,EAAAtC,CAAAuC,KAAAkB,GAClBlB,KAAKjC,MAAQA,GAWjBmD,EAAOC,KAAPC,EAAA1E,EAAA2E,KAAc,SAAAC,EAAUC,GAAV,OAAAH,EAAA1E,EAAA8E,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEH,OAFGF,EAAAC,KAAA,EAEHD,EAAAG,cAAOL,IAAP,QAFG,cAAAE,EAAAI,OAAA,SAAAJ,EAAAK,IAAA,UAAAL,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,WAINA,EAAAM,cAAab,GAJP,CAAAO,EAAAE,KAAA,gBAAAF,EAAAI,OAAA,SAKDJ,EAAAM,GAAEhE,OALD,cAAA0D,EAAAM,GAAA,yBAAAN,EAAAO,SAAAV,EAAA,+BCeGW,GAzBjB,SAASC,EAAO9F,EAASwC,EAAMuD,GAC7B,IAAM/G,EAAQgB,EAAQ+B,OAAOgE,GAC7B,OAAI/G,EAAMiD,UAAUO,GACXuD,OACmBtD,IAAjBzD,EAAMgH,OACRF,EAAO9F,EAASwC,EAAMxD,EAAMgH,QAE5B,KAIX,SAASC,EAAejG,EAASwC,EAAMI,GACrC,IAAMsD,EAASlG,EAAQc,QAAQ8B,GAC/B,OAAIsD,EAAO3E,WAAWiB,GACbI,OACuBH,IAArByD,EAAOC,UACTF,EAAejG,EAASwC,EAAM0D,EAAOC,WAErC,KAIJ,IAAMC,EAAW,GAGjB,SAAUP,EAAO5F,EAAMD,GAAvB,IAAAqG,EAAAC,EAAAC,EAAAvC,UAAA,OAAAgB,EAAA1E,EAAA8E,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAgCc,EAAhCE,EAAAC,OAAA,QAAA/D,IAAA8D,EAAA,GAAAA,EAAA,GAA4C,GAC3CD,EAAUF,EAASnG,EAAKmB,MADzB,CAAAiE,EAAAE,KAAA,cAGHkB,QAAQ7G,MAAR,+CAAA+C,OACiD1C,EAAKmB,MACpDnB,GAEI,IAAIwD,EAAJ,+CAAAd,OAC2C1C,EAAKmB,OARnD,OAWE,OAAAiE,EAAAG,cAAOc,EAAQrG,EAAMD,EAASqG,GAA9B,QAXF,cAAAhB,EAAAI,OAAA,SAAAJ,EAAAK,IAAA,wBAAAL,EAAAO,SAAAc,GAcPN,EAASO,WAAT3B,EAAA1E,EAAA2E,KAAsB,SAAAC,EAAUjF,EAAMD,GAAhB,IAAA4G,EAAA,OAAA5B,EAAA1E,EAAA8E,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,UAEO,QADrBqB,EAAqBd,EAAO9F,EAASC,EAAKuC,KAAMxC,EAAQa,eAD1C,CAAAgG,EAAAtB,KAAA,cAGZ,IAAIjB,EAAJ,YAAA3B,OACQ1C,EAAKuC,KADb,uCAEJvC,GALgB,OAQpB,OARoB4G,EAAAtB,KAAA,EAQd,CACJvF,UACAC,OACAC,QAAO,sBAAAyC,OAAwB1C,EAAKuC,MACpCpC,OAAQ,GAZU,cAAAyG,EAAApB,OAAA,SAcb,CACLqB,UAAWF,EACXpE,KAAMvC,EAAKuC,KACXuE,KAAM/G,EAAQ+B,OAAO6E,GAAoB3E,UAAUhC,EAAKuC,QAjBtC,wBAAAqE,EAAAjB,SAAAV,KAqBtBkB,EAASY,iBAAThC,EAAA1E,EAAA2E,KAA4B,SAAAgC,EAC1BhH,EACAD,EAF0BF,GAAA,IAAAoH,EAAAC,EAAAC,EAAAxE,EAAAyE,EAAAN,EAAA,OAAA/B,EAAA1E,EAAA8E,KAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,OAKN,OALM2B,EAAApH,EAGxBqH,yBAHwB,IAAAD,KAKNI,EAAA9B,cAAO+B,EAAStH,EAAKiG,OAAQlG,GAA7B,QALM,UAMC,kBADrBoH,EALoBE,EAAA5B,KAMe,eAAgB0B,EAN/B,CAAAE,EAAA/B,KAAA,cAQlB,IAAIjB,EACR,6CACArE,EAAKiG,QAViB,UAaC,eAAvBjG,EAAKuH,SAASpG,KAbQ,CAAAkG,EAAA/B,KAAA,cAaqB,IAAI9B,EAbzB,UAelBb,EAAewE,EAAfxE,WAMoB,QALtByE,EAAsBpB,EAC1BjG,EACAC,EAAKuH,SAAShF,KACdI,IAnBwB,CAAA0E,EAAA/B,KAAA,aAsBpB4B,EAtBoB,CAAAG,EAAA/B,KAAA,SA6BtB,OANMwB,EAAQ/G,EAAQc,QAAQ8B,GAAYrB,WACxCtB,EAAKuH,SAAShF,MACZ,CACFA,KAAMvC,EAAKuH,SAAShF,KACpBpD,KAAM,YA3BckI,EAAA/B,KAAA,GA6BhB,CACJvF,UACAC,OACAC,QAAO,qBAAAyC,OAAuB1C,EAAKuH,SAAShF,MAC5CpC,OAAQ,GAjCY,eAAAkH,EAAA7B,OAAA,SAmCf,CACL7C,aACAJ,KAAMvC,EAAKuH,SAAShF,KACpBuE,SAtCoB,eAAAO,EAAA7B,OAAA,SAyCf,MAzCe,QA6C1B,OA7C0B6B,EAAA/B,KAAA,GA6CpB,CACJvF,UACAC,OACAC,QAAO,sBAAAyC,OAAwB1C,EAAKuC,MACpCpC,OAAQ,GAjDgB,eAAAkH,EAAA7B,OAAA,SAmDnB,CACL7C,WAAYyE,EACZ7E,KAAMvC,EAAKuH,SAAShF,KACpBuE,KAAM/G,EAAQc,QAAQuG,GAAqB9F,WAAWtB,EAAKuH,SAAShF,QAtD5C,yBAAA8E,EAAA1B,SAAAqB,oBCxDXM,cA8DPE,GAhEGC,EAAa,GAEnB,SAAUH,EACftH,GADK,IAAAD,EAAAqG,EAAAsB,EAAApB,EAAAvC,UAAA,OAAAgB,EAAA1E,EAAA8E,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAELvF,EAFKuG,EAAAC,OAAA,QAAA/D,IAAA8D,EAAA,GAAAA,EAAA,GCNE,CACLxE,OAAQ,CAAC,CAAEE,UAAW,GAAIG,SAAU,KACpCtB,QAAS,GACTD,aAAc,GDMhBwF,EAHKE,EAAAC,OAAA,QAAA/D,IAAA8D,EAAA,GAAAA,EAAA,GAGO,GAENoB,EAAYD,EAAWzH,EAAKmB,MAL7B,CAAAiE,EAAAE,KAAA,cAOHkB,QAAQ7G,MAAR,iDAAA+C,OACmD1C,EAAKmB,MACtDnB,GAEI,IAAIwD,EAAJ,iDAAAd,OAC6C1C,EAAKmB,OAZrD,OAeE,OAAAiE,EAAAG,cAAOmC,EAAU1H,EAAMD,EAASqG,GAAhC,QAfF,cAAAhB,EAAAI,OAAA,SAAAJ,EAAAK,IAAA,wBAAAL,EAAAO,SAAAgC,GAkBP,SAASC,EAAcC,EAAIxH,EAAGyH,GAC5B,GAAW,MAAPD,EAAY,OAAOxH,EAAIyH,EAC3B,GAAW,MAAPD,EAAY,OAAOxH,EAAIyH,EAC3B,GAAW,MAAPD,EAAY,OAAOxH,EAAIyH,EAC3B,GAAW,OAAPD,EAAa,OAAOxH,GAAKyH,EAC7B,GAAW,OAAPD,EAAa,OAAOxH,GAAKyH,EAC7B,MAAM,IAAItE,EAAJ,6BAAAd,OAAgDmF,IAsCxD,SAAUL,EAAVtG,EAA0D6G,EAAMhI,GAAhE,IAAAiI,EAAAC,EAAAC,EAAAC,EAAAtB,EAAAuB,EAAAC,EAAAC,EAAAC,EAAAC,EAAA/F,EAAAJ,EAAAtB,EAAA0H,EAAAC,EAAA,OAAA3D,EAAA1E,EAAA8E,KAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,OAA2B0C,EAA3B9G,EAA2B8G,cAAeC,EAA1C/G,EAA0C+G,OAAQC,EAAlDhH,EAAkDgH,KAE1CC,EAAiB,CACrBpC,OAAQiC,EACR7F,SAAU,GACVH,UAAW,IAEP6E,EAAY9G,EAAQ+B,OAAO8G,KAAKT,GAAkB,EACxDpI,EAAQ+B,OAAOkG,GAAe7F,SAASyG,KAAK/B,GAR9CuB,GAAA,EAAAC,GAAA,EAAAC,OAAA9F,EAAAmG,EAAAtD,KAAA,EAAAkD,EAW2BN,EAAOY,UAXlCC,OAAAC,YAAA,UAAAX,GAAAI,EAAAD,EAAAjD,QAAA0D,KAAA,CAAAL,EAAArD,KAAA,YAAA7C,EAAA+F,EAAA9G,MAAAW,EAAAjB,OAAA6H,EAAA,EAAA7H,CAAAqB,EAAA,GAWc1B,EAXdsB,EAAA,GAYuB,gBADNoG,EAXjBpG,EAAA,IAYclB,KAZd,CAAAwH,EAAArD,KAAA,eAaY,IAAI9B,EAAJ,0BAAAd,OACsB+F,EAAMtH,KAD5B,mBAbZ,QAiBIgH,EAAenG,UAAUyG,EAAMlG,MAAQ,CACrCA,KAAMkG,EAAMlG,KACZpD,KAAM,QACNuC,MAAOqG,EAAKhH,IApBlB,QAAAqH,GAAA,EAAAO,EAAArD,KAAA,gBAAAqD,EAAArD,KAAA,iBAAAqD,EAAAtD,KAAA,GAAAsD,EAAAlD,GAAAkD,EAAA,SAAAN,GAAA,EAAAC,EAAAK,EAAAlD,GAAA,QAAAkD,EAAAtD,KAAA,GAAAsD,EAAAtD,KAAA,GAAA+C,GAAA,MAAAG,EAAAW,QAAAX,EAAAW,SAAA,WAAAP,EAAAtD,KAAA,IAAAgD,EAAA,CAAAM,EAAArD,KAAA,eAAAgD,EAAA,eAAAK,EAAAQ,OAAA,mBAAAR,EAAAQ,OAAA,eAwBQT,EAxBRtH,OAAAgI,EAAA,EAAAhI,CAAA,GAwBgCrB,EAxBhC,CAwByCa,aAAciG,IACnC,mBAAdqB,EAAK/G,KAzBX,CAAAwH,EAAArD,KAAA,SA0BW,OAAAqD,EAAApD,cAAOV,EAAOC,KAAPC,EAAA1E,EAAA2E,KAAY,SAAAqE,IAAA,OAAAtE,EAAA1E,EAAA8E,KAAA,SAAAmE,GAAA,cAAAA,EAAAjE,KAAAiE,EAAAhE,MAAA,OACjB,OAAAgE,EAAA/D,cAAO+B,EAASY,EAAMQ,EAAkB,CAC7Ca,WAAW,IADN,QADiB,cAAAD,EAAA9D,OAAA,SAAA8D,EAAA7D,IAAA,wBAAA6D,EAAA3D,SAAA0D,MAAnB,SA1BX,eAAAV,EAAAnD,OAAA,SAAAmD,EAAAjD,IAAA,QAgCW,OAAAiD,EAAApD,cAAO+B,EAASY,EAAMQ,GAAtB,SAhCX,eAAAC,EAAAnD,OAAA,SAAAmD,EAAAa,IAAA,yBAAAb,EAAAhD,SAAA8D,EAAA,iCAnCAhC,EAAWiC,KAAX3E,EAAA1E,EAAA2E,KAAkB,SAAAC,EAAUjF,EAAMD,GAAhB,OAAAgF,EAAA1E,EAAA8E,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OAChB,OAAAsB,EAAArB,cAAO+B,EAAStH,EAAK2J,QAAS5J,GAA9B,QADgB,wBAAA6G,EAAAjB,SAAAV,KAIlBwC,EAAWmC,QAAX7E,EAAA1E,EAAA2E,KAAqB,SAAAgC,EAAUhH,EAAMD,GAAhB,IAAA8J,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAnF,EAAA1E,EAAA8E,KAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,OAAAuE,GAAA,EAAAC,GAAA,EAAAC,OAAAvH,EAAA6E,EAAAhC,KAAA,EAAA2E,EAEKhK,EAAKkI,KAFVY,OAAAC,YAAA,UAAAc,GAAAI,EAAAD,EAAA1E,QAAA0D,KAAA,CAAA3B,EAAA/B,KAAA,SAGjB,OADS4E,EAFQD,EAAAvI,MAGjB2F,EAAA9B,cAAO+B,EAAS4C,EAAWnK,GAA3B,QAHiB,OAAA8J,GAAA,EAAAxC,EAAA/B,KAAA,gBAAA+B,EAAA/B,KAAA,iBAAA+B,EAAAhC,KAAA,GAAAgC,EAAA3B,GAAA2B,EAAA,SAAAyC,GAAA,EAAAC,EAAA1C,EAAA3B,GAAA,QAAA2B,EAAAhC,KAAA,GAAAgC,EAAAhC,KAAA,GAAAwE,GAAA,MAAAG,EAAAd,QAAAc,EAAAd,SAAA,WAAA7B,EAAAhC,KAAA,IAAAyE,EAAA,CAAAzC,EAAA/B,KAAA,eAAAyE,EAAA,eAAA1C,EAAA8B,OAAA,mBAAA9B,EAAA8B,OAAA,6BAAA9B,EAAA1B,SAAAqB,EAAA,mCAOrBS,EAAW0C,eAAXpF,EAAA1E,EAAA2E,KAA4B,SAAAoF,EAAUpK,EAAMD,EAAhBF,GAAA,IAAAwK,EAAAC,EAAAC,EAAAC,EAAAC,EAAAP,EAAA,OAAAnF,EAAA1E,EAAA8E,KAAA,SAAAuF,GAAA,cAAAA,EAAArF,KAAAqF,EAAApF,MAAA,OAAAzF,EAA2B0J,UAA3Bc,GAAA,EAAAC,GAAA,EAAAC,OAAA/H,EAAAkI,EAAArF,KAAA,EAAAmF,EAEFxK,EAAKkI,KAFHY,OAAAC,YAAA,UAAAsB,GAAAI,EAAAD,EAAAlF,QAAA0D,KAAA,CAAA0B,EAAApF,KAAA,SAGxB,OADS4E,EAFeO,EAAA/I,MAGxBgJ,EAAAnF,cAAO+B,EAAS4C,EAAWnK,GAA3B,QAHwB,OAAAsK,GAAA,EAAAK,EAAApF,KAAA,gBAAAoF,EAAApF,KAAA,iBAAAoF,EAAArF,KAAA,GAAAqF,EAAAhF,GAAAgF,EAAA,SAAAJ,GAAA,EAAAC,EAAAG,EAAAhF,GAAA,QAAAgF,EAAArF,KAAA,GAAAqF,EAAArF,KAAA,GAAAgF,GAAA,MAAAG,EAAAtB,QAAAsB,EAAAtB,SAAA,WAAAwB,EAAArF,KAAA,IAAAiF,EAAA,CAAAI,EAAApF,KAAA,eAAAiF,EAAA,eAAAG,EAAAvB,OAAA,mBAAAuB,EAAAvB,OAAA,6BAAAuB,EAAA/E,SAAAyE,EAAA,mCAO5B3C,EAAWkD,gBAAX5F,EAAA1E,EAAA2E,KAA6B,SAAA4F,EAAU5K,EAAMD,GAAhB,IAAA8K,EAAA,OAAA9F,EAAA1E,EAAA8E,KAAA,SAAA2F,GAAA,cAAAA,EAAAzF,KAAAyF,EAAAxF,MAAA,OAC3B,OAD2BwF,EAAAxF,KAAA,EACrB,CACJvF,UACAC,OACAE,KAAK,EACLD,QAAO,uBACPE,OAAQ,GANiB,OAQP,OAAA2K,EAAAvF,cAAO+B,EAAStH,EAAK+K,SAAUhL,GAA/B,QARO,OAa3B,OALM8K,EARqBC,EAAArF,GAS3B1F,EAAQ+B,OAAO/B,EAAQa,cAAcoB,UAAU,cAAgB,CAC7D7C,KAAM,SACNuC,MAAOmJ,GAXkBC,EAAAxF,KAAA,EAarB,CAAEvF,UAASC,OAAMC,QAAO,wBAA2BE,OAAQ,GAbtC,aAcrB,IAAI0E,EAAOgG,GAdU,wBAAAC,EAAAnF,SAAAiF,KAqD7BnD,EAAWuD,eAAXjG,EAAA1E,EAAA2E,KAA4B,SAAAiG,EAAUjL,EAAMD,GAAhB,IAAAmL,EAAAC,EAAAC,EAAAC,EAAAtD,EAAAuD,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA7G,EAAA1E,EAAA8E,KAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,OAE1B,OADQ4F,EAAgClL,EAAhCkL,OAAmBC,EAAanL,EAAxB+D,UADU8H,EAAAvG,KAAA,EAEpB,CAAEvF,UAASC,OAAME,KAAK,EAAMD,QAAO,gBAAmBE,OAAQ,GAF1C,OAKV,OAAA0L,EAAAtG,cAAO+B,EAAS4D,EAAQnL,GAAxB,QALU,UAMpB,eADAqL,EALoBS,EAAApG,IAAA,CAAAoG,EAAAvG,KAAA,cAOlB,IAAIjB,EAAJ,8BAAgD6G,GAP9B,WAQpBG,EAAKtL,EAAQc,QAAQuK,EAAQzI,cACZ,aAAZ0I,EAAGlK,KATY,CAAA0K,EAAAvG,KAAA,eAUlB,IAAIjB,EAAJ,8BAAgD6G,GAV9B,QAapBnD,EAAO,GAbauD,GAAA,EAAAC,GAAA,EAAAC,OAAAhJ,EAAAqJ,EAAAxG,KAAA,GAAAoG,EAcJN,EAdIrC,OAAAC,YAAA,WAAAuC,GAAAI,EAAAD,EAAAnG,QAAA0D,KAAA,CAAA6C,EAAAvG,KAAA,SAed,OADDqG,EAdeD,EAAAhK,MAAAmK,EAAAnG,GAexBqC,EAAU8D,EAAAtG,cAAO+B,EAASqE,EAAS5L,GAAzB,SAfc,QAAA8L,EAAAC,GAAAD,EAAArC,GAAAqC,EAAAnG,GAenBkD,KAfmBpE,KAAAqH,EAAAnG,GAAAmG,EAAAC,IAAA,QAAAR,GAAA,EAAAO,EAAAvG,KAAA,iBAAAuG,EAAAvG,KAAA,iBAAAuG,EAAAxG,KAAA,GAAAwG,EAAAE,GAAAF,EAAA,UAAAN,GAAA,EAAAC,EAAAK,EAAAE,GAAA,QAAAF,EAAAxG,KAAA,GAAAwG,EAAAxG,KAAA,GAAAiG,GAAA,MAAAG,EAAAvC,QAAAuC,EAAAvC,SAAA,WAAA2C,EAAAxG,KAAA,IAAAkG,EAAA,CAAAM,EAAAvG,KAAA,eAAAkG,EAAA,eAAAK,EAAA1C,OAAA,mBAAA0C,EAAA1C,OAAA,YAmB1B,OAnB0B0C,EAAAvG,KAAA,GAmBpB,CACJvF,UACAC,OACAE,KAAK,EACLD,QAAO,kBACPE,OAAQ,GAxBgB,QA0Bd,OAAA0L,EAAAtG,cAAOiC,EAAe6D,EAAItD,EAAMhI,GAAhC,SA1Bc,QA2B1B,OADM6L,EA1BoBC,EAAAG,GAAAH,EAAAvG,KAAA,GA2BpB,CAAEvF,UAASC,OAAMC,QAAO,iBAAoBE,OAAQ,GA3BhC,eAAA0L,EAAArG,OAAA,SA4BnBoG,GA5BmB,yBAAAC,EAAAlG,SAAAsF,EAAA,oCA+B5BxD,EAAWwE,oBAAXlH,EAAA1E,EAAA2E,KAAiC,SAAAkH,EAAUlM,EAAMD,GAAhB,IAAAhB,EAAAsM,EAAA1I,EAAA,OAAAoC,EAAA1E,EAAA8E,KAAA,SAAAgH,GAAA,cAAAA,EAAA9G,KAAA8G,EAAA7G,MAAA,WAC3BtF,EAAKoM,QAASpM,EAAKqM,UADQ,CAAAF,EAAA7G,KAAA,cAEvB,IAAInB,EAAJ,mDAFuB,UAG1BnE,EAAKsM,IAAuB,eAAjBtM,EAAKsM,GAAGnL,KAHO,CAAAgL,EAAA7G,KAAA,cAIvB,IAAIjB,EAAJ,oBAAsCrE,EAAKsM,IAJpB,OAM/B,OAN+BH,EAAA7G,KAAA,EAMzB,CACJvF,UACAC,OACAE,KAAK,EACLD,QAAO,oBAAAyC,OAAsB1C,EAAKsM,GAAG/J,MACrCpC,OAAQ,GAXqB,OA0B/B,OAbMpB,EAAQgB,EAAQ+B,OAAO/B,EAAQa,cAC/ByK,EAAK,CACTlK,KAAM,WACN6G,cAAejI,EAAQa,aACvBqH,OAAQjI,EAAKiI,OACbC,KAAMlI,EAAKkI,MAEPvF,EAAa5C,EAAQc,QAAQ+H,KAAKyC,GAAM,EAC9CtM,EAAMiD,UAAUhC,EAAKsM,GAAG/J,MAAQ,CAC9BA,KAAMvC,EAAKsM,GAAG/J,KACdpD,KAAM,UACNuC,MAAO,CAAEiB,eAxBoBwJ,EAAA7G,KAAA,GA0BzB,CACJvF,UACAC,OACAC,QAAO,qBAAAyC,OAAuB1C,EAAKsM,GAAG/J,MACtCpC,OAAQ,GA9BqB,yBAAAgM,EAAAxG,SAAAuG,KAkCjCzE,EAAW8E,eAAXxH,EAAA1E,EAAA2E,KAA4B,SAAAwH,EAAUxM,EAAMD,EAAhB0M,GAAA,IAAA9J,EAAA3B,EAAAlC,EAAA4C,EAAA,OAAAqD,EAAA1E,EAAA8E,KAAA,SAAAuH,GAAA,cAAAA,EAAArH,KAAAqH,EAAApH,MAAA,UAA2B3C,EAA3B8J,EAA2B9J,WAEpC,gBADT3B,EAAQhB,EAARgB,KACAG,KAFkB,CAAAuL,EAAApH,KAAA,cAGlB,IAAI9B,EAAJ,wEAHkB,OAQZ,OADR1E,EAAMiB,EAAQc,QAAQ8B,GACd+J,EAAAnH,cAAO+B,EAAStH,EAAK0B,MAAO3B,GAA5B,QARY,OAQpB2B,EARoBgL,EAAAjH,GAS1B3G,EAAIwC,WAAWN,EAAIuB,MAAQ,CAAEA,KAAMvB,EAAIuB,KAAMpD,KAAM,WAAYuC,SATrC,wBAAAgL,EAAA/G,SAAA6G,KAY5B/E,EAAWkF,iBAAX5H,EAAA1E,EAAA2E,KAA8B,SAAA4H,EAAU5M,EAAMD,GAAhB,IAAAjB,EAAA6D,EAAAkK,EAAAC,EAAAC,EAAAC,EAAAC,EAAA1F,EAAA,OAAAxC,EAAA1E,EAAA8E,KAAA,SAAA+H,GAAA,cAAAA,EAAA7H,KAAA6H,EAAA5H,MAAA,OAC5B,OAD4B4H,EAAA5H,KAAA,EACtB,CACJvF,UACAC,OACAE,KAAK,EACLD,QAAO,0BACPE,OAAQ,GANkB,OAQtBrB,EAAM,CACVqC,KAAM,SACNG,WAAY,IAERqB,EAAa5C,EAAQc,QAAQ+H,KAAK9J,GAAO,EAZnB+N,GAAA,EAAAC,GAAA,EAAAC,OAAAvK,EAAA0K,EAAA7H,KAAA,EAAA2H,EAaLhN,EAAKsB,WAbAwH,OAAAC,YAAA,UAAA8D,GAAAI,EAAAD,EAAA1H,QAAA0D,KAAA,CAAAkE,EAAA5H,KAAA,SAc1B,OADSiC,EAbiB0F,EAAAvL,MAc1BwL,EAAA3H,cAAO+B,EAASC,EAAUxH,EAAS,CAAE4C,eAArC,SAd0B,QAAAkK,GAAA,EAAAK,EAAA5H,KAAA,gBAAA4H,EAAA5H,KAAA,iBAAA4H,EAAA7H,KAAA,GAAA6H,EAAAxH,GAAAwH,EAAA,SAAAJ,GAAA,EAAAC,EAAAG,EAAAxH,GAAA,QAAAwH,EAAA7H,KAAA,GAAA6H,EAAA7H,KAAA,GAAAwH,GAAA,MAAAG,EAAA9D,QAAA8D,EAAA9D,SAAA,WAAAgE,EAAA7H,KAAA,IAAAyH,EAAA,CAAAI,EAAA5H,KAAA,eAAAyH,EAAA,eAAAG,EAAA/D,OAAA,mBAAA+D,EAAA/D,OAAA,YAgB5B,OAhB4B+D,EAAA5H,KAAA,GAgBtB,CAAEvF,UAASC,OAAMC,QAAO,2BAA8BE,OAAQ,GAhBxC,eAAA+M,EAAA1H,OAAA,SAiBrB,CAAE7C,eAjBmB,yBAAAuK,EAAAvH,SAAAiH,EAAA,mCAoB9BnF,EAAW0F,gBAAXpI,EAAA1E,EAAA2E,KAA6B,SAAAoI,EAAUpN,EAAMD,GAAhB,IAAAsN,EAAA1K,EAAA2K,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA5I,EAAA1E,EAAA8E,KAAA,SAAAyI,GAAA,cAAAA,EAAAvI,KAAAuI,EAAAtI,MAAA,OAC3B,OAD2BsI,EAAAtI,KAAA,EACrB,CACJvF,UACAC,OACAE,KAAK,EACLD,QAAO,4BACPE,OAAQ,GANiB,OAQrBkN,EAAM,CACVlM,KAAM,QACNG,WAAY,GACZG,SAAU,IAENkB,EAAa5C,EAAQc,QAAQ+H,KAAKyE,GAAO,EAbpBC,GAAA,EAAAC,GAAA,EAAAC,OAAAhL,EAAAoL,EAAAvI,KAAA,EAAAoI,EAcVzN,EAAKyB,SAdKqH,OAAAC,YAAA,UAAAuE,GAAAI,EAAAD,EAAAnI,QAAA0D,KAAA,CAAA4E,EAAAtI,KAAA,SAeP,OADTqI,EAdgBD,EAAAhM,MAAAkM,EAAAnI,GAezB4H,EAAI5L,SAAcmM,EAAArI,cAAO+B,EAASqG,EAAI5N,GAApB,SAfO,QAAA6N,EAAApE,GAAAoE,EAAAlI,GAAAkI,EAAAnI,GAeZmD,KAfYpE,KAAAoJ,EAAAnI,GAAAmI,EAAApE,IAAA,QAAA8D,GAAA,EAAAM,EAAAtI,KAAA,gBAAAsI,EAAAtI,KAAA,iBAAAsI,EAAAvI,KAAA,GAAAuI,EAAA9B,GAAA8B,EAAA,SAAAL,GAAA,EAAAC,EAAAI,EAAA9B,GAAA,QAAA8B,EAAAvI,KAAA,GAAAuI,EAAAvI,KAAA,GAAAiI,GAAA,MAAAG,EAAAvE,QAAAuE,EAAAvE,SAAA,WAAA0E,EAAAvI,KAAA,IAAAkI,EAAA,CAAAK,EAAAtI,KAAA,eAAAkI,EAAA,eAAAI,EAAAzE,OAAA,mBAAAyE,EAAAzE,OAAA,YAiB3B,OAjB2ByE,EAAAtI,KAAA,GAiBrB,CAAEvF,UAASC,OAAMC,QAAO,6BAAgCE,OAAQ,GAjB3C,eAAAyN,EAAApI,OAAA,SAkBpB,CAAE7C,eAlBkB,yBAAAiL,EAAAjI,SAAAyH,EAAA,mCAqB7B3F,EAAWoG,wBAAX9I,EAAA1E,EAAA2E,KAAqC,SAAA8I,EAAU9N,EAAMD,GAAhB,IAAAsL,EAAA1I,EAAA,OAAAoC,EAAA1E,EAAA8E,KAAA,SAAA4I,GAAA,cAAAA,EAAA1I,KAAA0I,EAAAzI,MAAA,WAC/BtF,EAAKoM,QAASpM,EAAKqM,UADY,CAAA0B,EAAAzI,KAAA,cAE3B,IAAInB,EAAJ,mDAF2B,OAWnC,OAPMkH,EAAK,CACTlK,KAAM,WACN6G,cAAejI,EAAQa,aACvBqH,OAAQjI,EAAKiI,OACbC,KAAMlI,EAAKkI,MAEPvF,EAAa5C,EAAQc,QAAQ+H,KAAKyC,GAAM,EAVX0C,EAAAzI,KAAA,EAW7B,CAAEvF,UAASC,OAAMC,QAAO,2BAA8BE,OAAQ,GAXjC,cAAA4N,EAAAvI,OAAA,SAY5B,CAAE7C,eAZ0B,wBAAAoL,EAAApI,SAAAmI,KAerCrG,EAAWuG,iBAAXjJ,EAAA1E,EAAA2E,KAA8B,SAAAiJ,EAAUjO,EAAMD,GAAhB,IAAAmO,EAAAC,EAAAC,EAAAC,EAAA,OAAAtJ,EAAA1E,EAAA8E,KAAA,SAAAmJ,GAAA,cAAAA,EAAAjJ,KAAAiJ,EAAAhJ,MAAA,OAE5B,OADQ4I,EAAgBlO,EAAhBkO,KAAMC,EAAUnO,EAAVmO,MADcG,EAAAhJ,KAAA,EAEtB,CACJvF,UACAC,OACAE,KAAK,EACLD,QAAO,6BACPE,OAAQ,GAPkB,OASV,OAAAmO,EAAA/I,cAAO+B,EAAS4G,EAAMnO,GAAtB,QATU,UAStBqO,EATsBE,EAAA7I,GAUN,OAAlBzF,EAAKuO,UAAsBH,EAVH,CAAAE,EAAAhJ,KAAA,eAAAgJ,EAAA9I,OAAA,SAUqB4I,GAVrB,UAWN,OAAlBpO,EAAKuO,WAAqBH,EAXF,CAAAE,EAAAhJ,KAAA,eAAAgJ,EAAA9I,OAAA,SAWoB4I,GAXpB,OAYT,OAAAE,EAAA/I,cAAO+B,EAAS6G,EAAOpO,GAAvB,SAZS,QAa5B,OADMsO,EAZsBC,EAAA5I,GAAA4I,EAAAhJ,KAAA,GAatB,CACJvF,UACAC,OACAC,QAAO,8BACPE,OAAQ,GAjBkB,eAAAmO,EAAA9I,OAAA,SAmBrBoC,EAAc5H,EAAKuO,SAAUH,EAAWC,IAnBnB,yBAAAC,EAAA3I,SAAAsI,KAsB9BxG,EAAWf,WAAX3B,EAAA1E,EAAA2E,KAAwB,SAAAwJ,EAAUxO,EAAMD,GAAhB,IAAA0O,EAAA3H,EAAA,OAAA/B,EAAA1E,EAAA8E,KAAA,SAAAuJ,GAAA,cAAAA,EAAArJ,KAAAqJ,EAAApJ,MAAA,UACJ,cAAdtF,EAAKuC,KADa,CAAAmM,EAAApJ,KAAA,QAEpB,OAFoBoJ,EAAApJ,KAAA,EAEJ,CAAEtF,OAAMC,QAAO,sBAAyBE,OAAQ,GAF5C,cAAAuO,EAAAlJ,OAAA,cAGbhD,GAHa,OAML,OAAAkM,EAAAnJ,cAAOK,EAAO5F,EAAMD,GAApB,QANK,OAOtB,OAPsB0O,EAAAC,EAAAjJ,GAMdqB,EANc2H,EAMd3H,KANc4H,EAAApJ,KAAA,EAOhB,CAAEvF,UAASC,OAAMC,QAAO,qBAAwBE,OAAQ,GAPxC,cAAAuO,EAAAlJ,OAAA,SAQfsB,EAAKpF,OARU,yBAAAgN,EAAA/I,SAAA6I,KAWxB/G,EAAWV,iBAAXhC,EAAA1E,EAAA2E,KAA8B,SAAA2J,EAAU3O,EAAMD,GAAhB,IAAA6O,EAAA9H,EAAA,OAAA/B,EAAA1E,EAAA8E,KAAA,SAAA0J,GAAA,cAAAA,EAAAxJ,KAAAwJ,EAAAvJ,MAAA,OACX,OAAAuJ,EAAAtJ,cAAOK,EAAO5F,EAAMD,GAApB,QADW,UACtB6O,EADsBC,EAAApJ,GAAA,CAAAoJ,EAAAvJ,KAAA,cAGpB,IAAIjB,EAAJ,wBAA0CrE,GAHtB,OAM5B,OADQ8G,EAAS8H,EAAT9H,KALoB+H,EAAAvJ,KAAA,EAMtB,CAAEvF,UAASC,OAAMC,QAAO,qBAAwBE,OAAQ,GANlC,cAAA0O,EAAArJ,OAAA,SAOrBsB,EAAKpF,OAPgB,wBAAAmN,EAAAlJ,SAAAgJ,KAU9BlH,EAAWqH,qBAAX/J,EAAA1E,EAAA2E,KAAkC,SAAA+J,EAAU/O,EAAMD,GAAhB,IAAAmO,EAAAC,EAAAa,EAAAlI,EAAA,OAAA/B,EAAA1E,EAAA8E,KAAA,SAAA8J,GAAA,cAAAA,EAAA5J,KAAA4J,EAAA3J,MAAA,OAIf,OAHT4I,EAAgBlO,EAAhBkO,KAAMC,EAAUnO,EAAVmO,MAGGc,EAAA1J,cAAOK,EAAOsI,EAAMnO,EAAS,CAAEmH,mBAAmB,IAAlD,QAJe,OAKnB,OALmB8H,EAAAC,EAAAxJ,GAIxBqB,EAJwBkI,EAIxBlI,KACKmI,EAAA1J,cAAO+B,EAAS6G,EAAOpO,GAAvB,QALmB,OAKhC+G,EAAKpF,MAL2BuN,EAAAvJ,GAAA,wBAAAuJ,EAAAtJ,SAAAoJ,KASlCtH,EAAWyH,oBAAXnK,EAAA1E,EAAA2E,KAAiC,SAAAmK,EAAUnP,EAAMD,GAAhB,OAAAgF,EAAA1E,EAAA8E,KAAA,SAAAiK,GAAA,cAAAA,EAAA/J,KAAA+J,EAAA9J,MAAA,OAC/B,OAD+B8J,EAAA9J,KAAA,EACzB,CACJvF,UACAC,OACAE,KAAK,EACLD,QAAO,+BACPE,OAAQ,GANqB,OAQ/B,OAAAiP,EAAA7J,cAAO+B,EAAStH,EAAKqP,WAAYtP,GAAjC,QAR+B,OAS/B,OAT+BqP,EAAA9J,KAAA,EASzB,CACJvF,UACAC,OACAC,QAAO,gCACPE,OAAQ,GAbqB,wBAAAiP,EAAAzJ,SAAAwJ,KAiBjC1H,EAAW6H,oBAAXvK,EAAA1E,EAAA2E,KAAiC,SAAAuK,EAAUvP,EAAMD,GAAhB,IAAAZ,EAAAqQ,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA9K,EAAA1E,EAAA8E,KAAA,SAAA2K,GAAA,cAAAA,EAAAzK,KAAAyK,EAAAxK,MAAA,OAE/B,OADMnG,EAAOa,EAAKb,KADa2Q,EAAAxK,KAAA,EAEzB,CACJvF,UACAC,OACAE,KAAK,EACLD,QAAO,GAAAyC,OAAKvD,EAAL,yBACPgB,OAAQ,GAPqB,OAAAqP,GAAA,EAAAC,GAAA,EAAAC,OAAAlN,EAAAsN,EAAAzK,KAAA,EAAAsK,EASL3P,EAAK+P,aATAjH,OAAAC,YAAA,UAAAyG,GAAAI,EAAAD,EAAArK,QAAA0D,KAAA,CAAA8G,EAAAxK,KAAA,SAU7B,OADSuK,EAToBD,EAAAlO,MAU7BoO,EAAAvK,cAAO+B,EAASuI,EAAa9P,EAAS,CAAEZ,SAAxC,SAV6B,QAAAqQ,GAAA,EAAAM,EAAAxK,KAAA,gBAAAwK,EAAAxK,KAAA,iBAAAwK,EAAAzK,KAAA,GAAAyK,EAAApK,GAAAoK,EAAA,SAAAL,GAAA,EAAAC,EAAAI,EAAApK,GAAA,QAAAoK,EAAAzK,KAAA,GAAAyK,EAAAzK,KAAA,GAAAmK,GAAA,MAAAG,EAAAzG,QAAAyG,EAAAzG,SAAA,WAAA4G,EAAAzK,KAAA,IAAAoK,EAAA,CAAAK,EAAAxK,KAAA,eAAAoK,EAAA,eAAAI,EAAA3G,OAAA,mBAAA2G,EAAA3G,OAAA,YAY/B,OAZ+B2G,EAAAxK,KAAA,GAYzB,CACJvF,UACAC,OACAC,QAAO,aAAAyC,OAAevD,EAAf,yBACPgB,OAAQ,GAhBqB,yBAAA2P,EAAAnK,SAAA4J,EAAA,mCAoBjC9H,EAAWuI,mBAAXjL,EAAA1E,EAAA2E,KAAgC,SAAAiL,EAAUjQ,EAAMD,EAAhBmQ,GAAA,IAAA/Q,EAAAJ,EAAAwD,EAAAb,EAAA,OAAAqD,EAAA1E,EAAA8E,KAAA,SAAAgL,GAAA,cAAAA,EAAA9K,KAAA8K,EAAA7K,MAAA,UACjB,SAD4CnG,EAA3B+Q,EAA2B/Q,OAC1B,UAATA,EADQ,CAAAgR,EAAA7K,KAAA,cAEtB,IAAInB,EAAJ,iCAAAzB,OAAkDvD,IAF5B,UAGT,eAAjBa,EAAKsM,GAAGnL,KAHkB,CAAAgP,EAAA7K,KAAA,cAItB,IAAI9B,EAAJ,8CAJsB,OAS9B,OAHMzE,EAAQgB,EAAQ+B,OAAO/B,EAAQa,cAC/B2B,EAAOvC,EAAKsM,GAAG/J,KACrBxD,EAAMiD,UAAUO,GAAQ,CAAEA,OAAMpD,QARFgR,EAAA7K,KAAA,GASxB,CAAEvF,UAASC,KAAMA,EAAKsM,GAAIrM,QAAO,YAAAyC,OAAcH,GAAQpC,OAAQ,GATvC,YAU1BH,EAAKoQ,KAVqB,CAAAD,EAAA7K,KAAA,SAWd,OAAA6K,EAAA5K,cAAO+B,EAAStH,EAAKoQ,KAAMrQ,GAA3B,SAXc,QAa5B,OAFM2B,EAXsByO,EAAA1K,GAY5B1G,EAAMiD,UAAUO,GAAMb,MAAQA,EAZFyO,EAAA7K,KAAA,GAatB,CAAEvF,UAASC,OAAMC,QAAO,eAAAyC,OAAiBH,GAAQpC,OAAQ,GAbnC,yBAAAgQ,EAAAxK,SAAAsK,KAiBhCxI,EAAW4I,YAAXtL,EAAA1E,EAAA2E,KAAyB,SAAAsL,EAAUtQ,EAAMD,GAAhB,OAAAgF,EAAA1E,EAAA8E,KAAA,SAAAoL,GAAA,cAAAA,EAAAlL,KAAAkL,EAAAjL,MAAA,OACvB,OADuBiL,EAAAjL,KAAA,EACjB,CAAEvF,UAASC,OAAMC,QAAO,iBAAoBE,OAAQ,GADnC,cAAAoQ,EAAA/K,OAAA,SAEhB,MAFgB,wBAAA+K,EAAA5K,SAAA2K,KAKzB7I,EAAW+I,cAAXzL,EAAA1E,EAAA2E,KAA2B,SAAAyL,EAAUzQ,EAAMD,GAAhB,OAAAgF,EAAA1E,EAAA8E,KAAA,SAAAuL,GAAA,cAAAA,EAAArL,KAAAqL,EAAApL,MAAA,OACzB,OADyBoL,EAAApL,KAAA,EACnB,CAAEvF,UAASC,OAAMC,QAAO,cAAAyC,OAAgB1C,EAAK0B,MAArB,KAA+BvB,OAAQ,GAD5C,cAAAuQ,EAAAlL,OAAA,SAElBxF,EAAK0B,OAFa,wBAAAgP,EAAA/K,SAAA8K,KAK3BhJ,EAAWkJ,eAAX5L,EAAA1E,EAAA2E,KAA4B,SAAA4L,EAAU5Q,EAAMD,GAAhB,OAAAgF,EAAA1E,EAAA8E,KAAA,SAAA0L,GAAA,cAAAA,EAAAxL,KAAAwL,EAAAvL,MAAA,OAC1B,OAD0BuL,EAAAvL,KAAA,EACpB,CAAEvF,UAASC,OAAMC,QAAO,aAAAyC,OAAe1C,EAAK0B,OAASvB,OAAQ,GADzC,cAAA0Q,EAAArL,OAAA,SAEnBxF,EAAK0B,OAFc,wBAAAmP,EAAAlL,SAAAiL,KAK5BnJ,EAAWqJ,eAAX/L,EAAA1E,EAAA2E,KAA4B,SAAA+L,EAAU/Q,EAAMD,GAAhB,OAAAgF,EAAA1E,EAAA8E,KAAA,SAAA6L,GAAA,cAAAA,EAAA3L,KAAA2L,EAAA1L,MAAA,OAC1B,OAD0B0L,EAAA1L,KAAA,EACpB,CAAEvF,UAASC,OAAMC,QAAO,aAAAyC,OAAe1C,EAAK0B,OAASvB,OAAQ,GADzC,cAAA6Q,EAAAxL,OAAA,SAEnBxF,EAAK0B,OAFc,wBAAAsP,EAAArL,SAAAoL,KElWb,IAAAE,EAAA,SAAS3R,GACtB,IACM4R,EAAU5J,EADJ6J,gBAAM7R,IAGZuD,EAAU,GAChB,IAAI,IAAAgH,GAAA,EAAAC,GAAA,EAAAC,OAAAvH,EAAA,IACF,QAAAyH,EAAAD,EAAqBkH,EAArBpI,OAAAC,cAAAc,GAAAI,EAAAD,EAAA1E,QAAA0D,MAAAa,GAAA,EAA8B,KAAnBuH,EAAmBnH,EAAAvI,MAE5B,GADAmB,EAAQ+F,KAAKyI,IAASD,IAClBvO,EAAQ0D,OAAS,IACnB,MAAM,IAAIrC,MAAM,oBAJlB,MAAAoN,GAAAxH,GAAA,EAAAC,EAAAuH,EAAA,YAAAzH,GAAA,MAAAG,EAAAd,QAAAc,EAAAd,SAAA,WAAAY,EAAA,MAAAC,IAOF,MAAO9G,GACP,GAAIA,aAAaoB,EAGf,OADAmC,QAAQ+K,IAAI,wBAAyBtO,GAC9B,CAAEJ,UAAShE,aAAcoE,GAC3B,MAAMA,EAGf,MAAO,CAAEJ,YCbL2O,EAAmBC,YAAqB,QACxCC,EAAwBD,YAAqB,aAC7CE,EAAqBF,YAAqB,UAE1CG,GAAU,CACdC,KAAM,kBACNC,MAAO,QACPC,aAAa,EACbC,aAAa,EACbC,QAAS,EACTC,gBAAgB,SCVEC,QACW,cAA7BC,OAAOxD,SAASyD,UAEe,UAA7BD,OAAOxD,SAASyD,UAEhBD,OAAOxD,SAASyD,SAASC,MACvB,2DCZNC,iBAAOnS,EAAAC,EAAAC,cFmBQ,WACb,IAAMkS,EAAOC,iBAAO,CAAEC,OAAQ,KAAMC,OAAQ,OADhBC,EAEJpB,EAAgB,eAFZqB,EAAAzR,OAAA6H,EAAA,EAAA7H,CAAAwR,EAAA,GAErBtT,EAFqBuT,EAAA,GAEfC,EAFeD,EAAA,GAAAE,EAGaC,kBAAQ,WAC/C,IACE,OAAO/B,EAAO3R,GACd,MAAOK,GACP,MAAO,CAAEA,WAEV,CAACL,IANIK,EAHoBoT,EAGpBpT,MAAOd,EAHakU,EAGblU,aAAcgE,EAHDkQ,EAGClQ,QAHDoQ,EAWCtB,EAAmB,GAXpBuB,EAAA9R,OAAA6H,EAAA,EAAA7H,CAAA6R,EAAA,GAWrBE,EAXqBD,EAAA,GAWZE,EAXYF,EAAA,GAAAG,EAYM3B,EAAsB,GAZ5B4B,EAAAlS,OAAA6H,EAAA,EAAA7H,CAAAiS,EAAA,GAYrBE,EAZqBD,EAAA,GAYVE,EAZUF,EAAA,GActBG,EACJ5Q,GAAWA,EAAQ0D,OAAS,EACxB1D,EAAQ6Q,OAAO,SAAA7T,GAAA,OAAAA,EAAGM,QAAuBoT,IACzC,KAEAI,EAASC,KAAKC,IAClB,EACAD,KAAKE,IAAIX,GAAUM,GAAkB,IAAIlN,OAAS,IAI9C5H,EAAO8U,EAAiBA,EAAeE,GAAU,KAkBvD,OAhBAI,oBAAU,WACR,GAAKvB,EAAK7R,QAAQ+R,SAClBF,EAAK7R,QAAQgS,QAAUH,EAAK7R,QAAQgS,OAAOqB,QAEtCrV,GAAL,CACA,IAAMsV,EAAMzB,EAAK7R,QAAQ+R,OAAOwB,SAC1BzP,EAAM9F,EAAKqB,KAAKyE,IACtB+N,EAAK7R,QAAQgS,OAASsB,EAAIE,SACxB,CAAExP,KAAMF,EAAIC,MAAMC,KAAO,EAAGyP,GAAI3P,EAAIC,MAAME,QAC1C,CAAED,KAAMF,EAAI4P,IAAI1P,KAAO,EAAGyP,GAAI3P,EAAI4P,IAAIzP,QACtC,CACErE,UAAW5B,EAAKuB,IAAMM,IAAOjB,UAAYiB,IAAOhB,eAGnD,CAACgT,EAAM7T,IAGRyB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOlB,MACrBc,EAAAC,EAAAC,cAACgU,EAAA,WAAD,CACE/T,UAAU,WACVgU,QAAS3C,GACT4C,eAAgB,SAAA9B,GAAM,OAAKF,EAAK7R,QAAQ+R,OAASA,GACjDhR,MAAOpC,EACPmV,eAAgB,SAAC/B,EAAQgC,EAAMhT,GAC7BoR,EAAQpR,GAAS,SAIrB/B,IAAU8T,IAAmBrT,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAOf,eACpDE,GACCS,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOd,MACrBU,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOb,OACrBS,EAAAC,EAAAC,cAAA,2BAAmBX,EAAM4E,WAI9BkP,GACCrT,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsC,EAAD,CACElB,MAAOiS,EACP7Q,SAAUsQ,EACVvQ,QAAS4Q,EACT5U,aAAcA,IAEhBuB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOd,MAerBU,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,kCACqB,IACnBF,EAAAC,EAAAC,cAAA,SACEa,KAAK,WACLwT,QAAuB,IAAdpB,EACTzQ,SAAU,kBAAM0Q,EAAa,EAAID,QAIvCnT,EAAAC,EAAAC,cAACV,EAAD,CAAKjB,KAAMA,IACVE,GACCuB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOb,OACrBS,EAAAC,EAAAC,cAAA,2BAAmBzB,EAAa0F,cEvHzC,MAASqQ,SAASC,eAAe,SD2HlC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.f9261785.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"HistoryTimeline_timeline__2U4zc\",\"step\":\"HistoryTimeline_step__1GcUm\",\"selected\":\"HistoryTimeline_selected__2AZxZ\",\"runtimeError\":\"HistoryTimeline_runtimeError__3H9Eg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"obj\":\"Viz_obj__1yjuX\",\"scope\":\"Viz_scope__1teSn\",\"isCurrent\":\"Viz_isCurrent__2rgxg\",\"item\":\"Viz_item__WmSV6\",\"var\":\"Viz_var__zoTKZ\",\"kind\":\"Viz_kind__e2xsO\",\"split\":\"Viz_split__3PUzN\",\"col\":\"Viz_col__2Iyi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code\":\"App_code__fmNFS\",\"markedPre\":\"App_markedPre__3_KTD\",\"markedPost\":\"App_markedPost__2_ohD\",\"emptyDivider\":\"App_emptyDivider__1s_av\",\"main\":\"App_main__uN9ca\",\"error\":\"App_error__1LS0k\"};","import React from \"react\";\nimport cx from \"classnames\";\nimport styles from \"./Viz.module.scss\";\n\nexport default function({ step: { node, context, pre, summary, detail } }) {\n  return (\n    <div>\n      <p>\n        <em>{summary}</em>\n      </p>\n      <div className={styles.split}>\n        <div className={styles.col}>\n          <Scope\n            context={context}\n            scopeRef={0}\n            current={context.currentScope}\n          />\n        </div>\n        <div className={styles.col}>\n          {context.objects.map((obj, i) => {\n            return (\n              <div key={i}>\n                <div>object #{i}</div>\n                <Obj obj={obj} />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Obj({ obj }) {\n  if (obj.type === \"object\") {\n    return (\n      <div className={styles.obj}>\n        {Object.values(obj.properties).map((v, i) => (\n          <Var key={i} v={v} />\n        ))}\n      </div>\n    );\n  } else if (obj.type === \"array\") {\n    return (\n      <div className={styles.obj}>\n        {Object.values(obj.elements).map((value, i) => (\n          <div key={i} className={styles.item}>\n            <span className={styles.kind}>item</span> <Value value={value} />\n          </div>\n        ))}\n        {Object.values(obj.properties).map((v, i) => (\n          <Var key={i} v={v} />\n        ))}\n      </div>\n    );\n  } else {\n    return null;\n  }\n}\n\nfunction Scope({ context, scopeRef, current }) {\n  const scope = context.scopes[scopeRef];\n  const isCurrent = current === scopeRef;\n  const vars = Object.values(scope.variables);\n\n  return (\n    <div\n      className={cx({ [styles.scope]: true, [styles.isCurrent]: isCurrent })}\n    >\n      {vars.map((v, i) => (\n        <Var key={i} v={v} />\n      ))}\n      {scope.children.map(childRef => (\n        <div key={childRef}>\n          <Scope context={context} scopeRef={childRef} current={current} />\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction Var({ v: { kind, name, value } }) {\n  return (\n    <div className={styles.var}>\n      <span className={styles.kind}>{kind}</span> {name}{\" \"}\n      {value !== undefined && (\n        <span>\n          {kind === \"return\" ? `` : `= `}\n          <Value value={value} />\n        </span>\n      )}\n    </div>\n  );\n}\n\nfunction Value({ value }) {\n  if (typeof value === \"string\") return `\"${value}\"`;\n  if (typeof value === \"object\" && \"object_ref\" in value)\n    return `object #${value.object_ref}`;\n  if (typeof value === \"boolean\") return `${value}`;\n  return value;\n}\n","import React, { useCallback } from \"react\";\nimport cx from \"classnames\";\nimport styles from \"./HistoryTimeline.module.scss\";\n\nexport default function HistoryTimeline({\n  history,\n  value,\n  onChange,\n  runtimeError\n}) {\n  const onKeyDown = useCallback(\n    e => {\n      if (e.keyCode === 37) {\n        onChange(value - 1);\n      } else if (e.keyCode === 39) {\n        onChange(value + 1);\n      }\n    },\n    [value, onChange]\n  );\n\n  return (\n    <div className={styles.timeline} onKeyDown={onKeyDown}>\n      {history.map((step, i) => {\n        return (\n          <a\n            key={i}\n            href=\"#\"\n            onClick={e => {\n              e.preventDefault();\n              e.stopPropagation();\n              onChange(i);\n            }}\n            className={cx({\n              [styles.step]: true,\n              [styles.selected]: i === parseInt(value)\n            })}\n          />\n        );\n      })}\n      {runtimeError && (\n        <div className={cx([styles.step, styles.runtimeError])} />\n      )}\n    </div>\n  );\n}\n","export class NotImplemented extends Error {}\nexport class NotSupported extends Error {}\n\nexport class RuntimeError extends Error {\n  constructor(message, node) {\n    super(\n      `${message} (${node.type} @ ${node.loc.start.line}:${\n        node.loc.start.column\n      })`\n    );\n  }\n}\n","export class Return {\n  constructor(value) {\n    this.value = value;\n  }\n}\n\n// Returning from a block of code is somewhat\n//  uncompositional. The simplest way to deal\n//  with it, instead of expanding the semantics,\n//  is leveraging the fact that the interpreter\n//  language, i.e. JS, already has this kind of\n//  non-local flow feature in the form of throwing\n//  :D\nReturn.from = function*(mkgen) {\n  try {\n    return yield* mkgen();\n  } catch (e) {\n    if (e instanceof Return) {\n      return e.value;\n    } else {\n      throw e;\n    }\n  }\n};\n","import { NotImplemented, RuntimeError } from \"./errors\";\nimport { evaluate } from \"./evaluate\";\n\nfunction lookup(context, name, ref) {\n  const scope = context.scopes[ref];\n  if (scope.variables[name]) {\n    return ref;\n  } else if (scope.parent !== undefined) {\n    return lookup(context, name, scope.parent);\n  } else {\n    return null;\n  }\n}\n\nfunction lookupProperty(context, name, object_ref) {\n  const object = context.objects[object_ref];\n  if (object.properties[name]) {\n    return object_ref;\n  } else if (object.prototype !== undefined) {\n    return lookupProperty(context, name, object.prototype);\n  } else {\n    return null;\n  }\n}\n\nexport const locators = {};\n\n// locate: (Node, Context) => { scope_ref|object_ref, name, site }\nexport function* locate(node, context, namedArgs = {}) {\n  const locator = locators[node.type];\n  if (!locator) {\n    console.error(\n      `Couldn't find locator for AST node of type: ${node.type}`,\n      node\n    );\n    throw new NotImplemented(\n      `Couldn't find locator for AST node of type: ${node.type}`\n    );\n  }\n  return yield* locator(node, context, namedArgs);\n}\n\nlocators.Identifier = function*(node, context) {\n  const defining_scope_ref = lookup(context, node.name, context.currentScope);\n  if (defining_scope_ref === null)\n    throw new RuntimeError(\n      `variable ${node.name} is not defined [lookup identifier]`,\n      node\n    );\n\n  yield {\n    context,\n    node,\n    summary: `looked up variable ${node.name}`,\n    detail: 2\n  };\n  return {\n    scope_ref: defining_scope_ref,\n    name: node.name,\n    site: context.scopes[defining_scope_ref].variables[node.name]\n  };\n};\n\nlocators.MemberExpression = function*(\n  node,\n  context,\n  { makeIfNonexistent = false }\n) {\n  const objectValue = yield* evaluate(node.object, context);\n  if (typeof objectValue !== \"object\" || !(\"object_ref\" in objectValue))\n    // (actually, you can do things like `(2).toFixed(2)`)\n    throw new RuntimeError(\n      \"cannot use memberexpression for non-object\",\n      node.object\n    );\n\n  if (node.property.type !== \"Identifier\") throw new NotImplemented();\n\n  const { object_ref } = objectValue;\n  const defining_object_ref = lookupProperty(\n    context,\n    node.property.name,\n    object_ref\n  );\n  if (defining_object_ref === null) {\n    if (makeIfNonexistent) {\n      const site = (context.objects[object_ref].properties[\n        node.property.name\n      ] = {\n        name: node.property.name,\n        kind: \"property\"\n      });\n      yield {\n        context,\n        node,\n        summary: `made new property ${node.property.name}`,\n        detail: 2\n      };\n      return {\n        object_ref,\n        name: node.property.name,\n        site\n      };\n    } else {\n      return null;\n    }\n  }\n\n  yield {\n    context,\n    node,\n    summary: `looked up property ${node.name}`,\n    detail: 2\n  };\n  return {\n    object_ref: defining_object_ref,\n    name: node.property.name,\n    site: context.objects[defining_object_ref].properties[node.property.name]\n  };\n};\n","import { NotImplemented, NotSupported, RuntimeError } from \"./errors\";\nimport { makeInitialContext } from \"./context\";\nimport { Return } from \"./return\";\nimport { locate } from \"./locate\";\n\nexport const evaluators = {};\n\nexport function* evaluate(\n  node,\n  context = makeInitialContext(),\n  namedArgs = {}\n) {\n  const evaluator = evaluators[node.type];\n  if (!evaluator) {\n    console.error(\n      `Couldn't find evaluator for AST node of type: ${node.type}`,\n      node\n    );\n    throw new NotImplemented(\n      `Couldn't find evaluator for AST node of type: ${node.type}`\n    );\n  }\n  return yield* evaluator(node, context, namedArgs);\n}\n\nfunction applyOperator(op, a, b) {\n  if (op === \"+\") return a + b;\n  if (op === \"-\") return a - b;\n  if (op === \"*\") return a * b;\n  if (op === \"&&\") return a && b;\n  if (op === \"||\") return a || b;\n  throw new NotImplemented(`operator not implemented: ${op}`);\n}\n\nevaluators.File = function*(node, context) {\n  yield* evaluate(node.program, context);\n};\n\nevaluators.Program = function*(node, context) {\n  // TODO actually extract function definitions etc.\n  for (const statement of node.body) {\n    yield* evaluate(statement, context);\n  }\n};\n\nevaluators.BlockStatement = function*(node, context, { skipScope }) {\n  // TODO make new scope instead if `skip_scope` set\n  for (const statement of node.body) {\n    yield* evaluate(statement, context);\n  }\n};\n\nevaluators.ReturnStatement = function*(node, context) {\n  yield {\n    context,\n    node,\n    pre: true,\n    summary: `compute return value`,\n    detail: 1\n  };\n  const returnValue = yield* evaluate(node.argument, context);\n  context.scopes[context.currentScope].variables[\"[[return]]\"] = {\n    kind: \"return\",\n    value: returnValue\n  };\n  yield { context, node, summary: `computed return value`, detail: 1 };\n  throw new Return(returnValue);\n};\n\nfunction* invokeFunction({ definingScope, params, body }, args, context) {\n  // Create an execution scope\n  const executionScope = {\n    parent: definingScope,\n    children: [],\n    variables: {}\n  };\n  const scope_ref = context.scopes.push(executionScope) - 1;\n  context.scopes[definingScope].children.push(scope_ref);\n\n  // Populate with given arguments\n  for (const [i, param] of params.entries()) {\n    if (param.type !== \"Identifier\")\n      throw new NotImplemented(\n        `Sorry, can't deal with ${param.type} params yet :(`\n      );\n\n    executionScope.variables[param.name] = {\n      name: param.name,\n      kind: \"param\",\n      value: args[i]\n    };\n  }\n\n  const executionContext = { ...context, currentScope: scope_ref };\n  if (body.type === \"BlockStatement\") {\n    return yield* Return.from(function*() {\n      return yield* evaluate(body, executionContext, {\n        skipScope: true\n      });\n    });\n  } else {\n    return yield* evaluate(body, executionContext);\n  }\n}\n\nevaluators.CallExpression = function*(node, context) {\n  const { callee, arguments: argnodes } = node;\n  yield { context, node, pre: true, summary: `evaluate call`, detail: 2 };\n\n  // Second, lookup the function\n  const fnValue = yield* evaluate(callee, context);\n  if (!(\"object_ref\" in fnValue))\n    throw new RuntimeError(`Cannot call non-function #1`, callee);\n  const fn = context.objects[fnValue.object_ref];\n  if (!fn || fn.type !== \"function\")\n    throw new RuntimeError(`Cannot call non-function #2`, callee);\n\n  // First, evaluate arguments\n  const args = [];\n  for (const argnode of argnodes) {\n    args.push(yield* evaluate(argnode, context));\n  }\n\n  // Finally, invoke the function\n  yield {\n    context,\n    node,\n    pre: true,\n    summary: `invoke function`,\n    detail: 2\n  };\n  const ret = yield* invokeFunction(fn, args, context);\n  yield { context, node, summary: `evaluated call`, detail: 2 };\n  return ret;\n};\n\nevaluators.FunctionDeclaration = function*(node, context) {\n  if (node.async || node.generator)\n    throw new NotSupported(`Async and generator functions are not supported`);\n  if (!node.id || node.id.type !== \"Identifier\")\n    throw new RuntimeError(`should not happen`, node.id);\n\n  yield {\n    context,\n    node,\n    pre: true,\n    summary: `declare function ${node.id.name}`,\n    detail: 1\n  };\n  const scope = context.scopes[context.currentScope];\n  const fn = {\n    type: \"function\",\n    definingScope: context.currentScope,\n    params: node.params,\n    body: node.body\n  };\n  const object_ref = context.objects.push(fn) - 1;\n  scope.variables[node.id.name] = {\n    name: node.id.name,\n    kind: \"fundecl\",\n    value: { object_ref }\n  };\n  yield {\n    context,\n    node,\n    summary: `declared function ${node.id.name}`,\n    detail: 1\n  };\n};\n\nevaluators.ObjectProperty = function*(node, context, { object_ref }) {\n  const { key } = node;\n  if (key.type !== \"Identifier\")\n    throw new NotImplemented(\n      `Computed or otherwise property keys are sadly not implemented yet :(`\n    );\n\n  const obj = context.objects[object_ref];\n  const value = yield* evaluate(node.value, context);\n  obj.properties[key.name] = { name: key.name, kind: \"property\", value };\n};\n\nevaluators.ObjectExpression = function*(node, context) {\n  yield {\n    context,\n    node,\n    pre: true,\n    summary: `evaluate obj expression`,\n    detail: 2\n  };\n  const obj = {\n    type: \"object\",\n    properties: {}\n  };\n  const object_ref = context.objects.push(obj) - 1;\n  for (const property of node.properties) {\n    yield* evaluate(property, context, { object_ref });\n  }\n  yield { context, node, summary: `evaluated obj expression`, detail: 2 };\n  return { object_ref };\n};\n\nevaluators.ArrayExpression = function*(node, context) {\n  yield {\n    context,\n    node,\n    pre: true,\n    summary: `evaluate array expression`,\n    detail: 2\n  };\n  const arr = {\n    type: \"array\",\n    properties: {},\n    elements: []\n  };\n  const object_ref = context.objects.push(arr) - 1;\n  for (const el of node.elements) {\n    arr.elements.push(yield* evaluate(el, context));\n  }\n  yield { context, node, summary: `evaluated array expression`, detail: 2 };\n  return { object_ref };\n};\n\nevaluators.ArrowFunctionExpression = function*(node, context) {\n  if (node.async || node.generator)\n    throw new NotSupported(`Async and generator functions are not supported`);\n\n  const fn = {\n    type: \"function\",\n    definingScope: context.currentScope,\n    params: node.params,\n    body: node.body\n  };\n  const object_ref = context.objects.push(fn) - 1;\n  yield { context, node, summary: `evaluated arrow function`, detail: 2 };\n  return { object_ref };\n};\n\nevaluators.BinaryExpression = function*(node, context) {\n  const { left, right } = node;\n  yield {\n    context,\n    node,\n    pre: true,\n    summary: `evaluate binary expression`,\n    detail: 2\n  };\n  const leftValue = yield* evaluate(left, context);\n  if (node.operator === \"&&\" && !leftValue) return leftValue;\n  if (node.operator === \"||\" && leftValue) return leftValue;\n  const rightValue = yield* evaluate(right, context);\n  yield {\n    context,\n    node,\n    summary: `evaluated binary expression`,\n    detail: 2\n  };\n  return applyOperator(node.operator, leftValue, rightValue);\n};\n\nevaluators.Identifier = function*(node, context) {\n  if (node.name === \"undefined\") {\n    yield (context, { node, summary: `evaluated undefined`, detail: 2 });\n    return undefined;\n  }\n\n  const { site } = yield* locate(node, context);\n  yield { context, node, summary: `evaluated variable`, detail: 2 };\n  return site.value;\n};\n\nevaluators.MemberExpression = function*(node, context) {\n  const location = yield* locate(node, context);\n  if (!location) {\n    throw new RuntimeError(`member does not exist`, node);\n  }\n  const { site } = location;\n  yield { context, node, summary: `evaluated property`, detail: 2 };\n  return site.value;\n};\n\nevaluators.AssignmentExpression = function*(node, context) {\n  const { left, right } = node;\n\n  // yield ({context,  node, pre: true, summary: `assign ${left.name}`, detail: 2 });\n  const { site } = yield* locate(left, context, { makeIfNonexistent: true });\n  site.value = yield* evaluate(right, context);\n  // yield ({context,  node, summary: `assigned ${left.name}`, detail: 2 });\n};\n\nevaluators.ExpressionStatement = function*(node, context) {\n  yield {\n    context,\n    node,\n    pre: true,\n    summary: `compute expression statement`,\n    detail: 1\n  };\n  yield* evaluate(node.expression, context);\n  yield {\n    context,\n    node,\n    summary: `computed expression statement`,\n    detail: 1\n  };\n};\n\nevaluators.VariableDeclaration = function*(node, context) {\n  const kind = node.kind;\n  yield {\n    context,\n    node,\n    pre: true,\n    summary: `${kind} variable declaration`,\n    detail: 1\n  };\n  for (const declaration of node.declarations) {\n    yield* evaluate(declaration, context, { kind });\n  }\n  yield {\n    context,\n    node,\n    summary: `completed ${kind} variable declaration`,\n    detail: 1\n  };\n};\n\nevaluators.VariableDeclarator = function*(node, context, { kind }) {\n  if (kind !== \"let\" && kind !== \"const\")\n    throw new NotSupported(`only let/const supported, not ${kind}`);\n  if (node.id.type !== \"Identifier\")\n    throw new NotImplemented(`Not yet able to declare non-identifiers :(`);\n\n  const scope = context.scopes[context.currentScope];\n  const name = node.id.name;\n  scope.variables[name] = { name, kind };\n  yield { context, node: node.id, summary: `declared ${name}`, detail: 2 };\n  if (node.init) {\n    const value = yield* evaluate(node.init, context);\n    scope.variables[name].value = value;\n    yield { context, node, summary: `initialized ${name}`, detail: 2 };\n  }\n};\n\nevaluators.NullLiteral = function*(node, context) {\n  yield { context, node, summary: `evaluated null`, detail: 2 };\n  return null;\n};\n\nevaluators.StringLiteral = function*(node, context) {\n  yield { context, node, summary: `evaluated \"${node.value}\"`, detail: 2 };\n  return node.value;\n};\n\nevaluators.NumericLiteral = function*(node, context) {\n  yield { context, node, summary: `evaluated ${node.value}`, detail: 2 };\n  return node.value;\n};\n\nevaluators.BooleanLiteral = function*(node, context) {\n  yield { context, node, summary: `evaluated ${node.value}`, detail: 2 };\n  return node.value;\n};\n","export function makeInitialContext() {\n  return {\n    scopes: [{ variables: {}, children: [] }],\n    objects: [],\n    currentScope: 0\n  };\n}\n","import { parse } from \"@babel/parser\";\nimport deepcopy from \"deepcopy\";\nimport { RuntimeError } from \"./errors\";\nimport { evaluate } from \"./evaluate\";\n\nexport default function(code) {\n  const ast = parse(code);\n  const runtime = evaluate(ast);\n\n  const history = [];\n  try {\n    for (const report of runtime) {\n      history.push(deepcopy(report));\n      if (history.length > 100) {\n        throw new Error(\"too many steps!\");\n      }\n    }\n  } catch (e) {\n    if (e instanceof RuntimeError) {\n      // noop\n      console.log(\"caught runtime error:\", e);\n      return { history, runtimeError: e };\n    } else throw e;\n  }\n\n  return { history };\n}\n","import React, { useEffect, useRef, useMemo, useState } from \"react\";\nimport createPersistedState from \"use-persisted-state\";\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\nimport \"codemirror/mode/jsx/jsx\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"./assets/codemirror-theme.scss\";\nimport styles from \"./App.module.scss\";\n\nimport Viz from \"./Viz\";\nimport HistoryTimeline from \"./HistoryTimeline\";\nimport record from \"./lib/record\";\n\nconst usePersistedCode = createPersistedState(\"code\");\nconst usePersistedMaxDetail = createPersistedState(\"maxdetail\");\nconst usePersistedStepno = createPersistedState(\"stepno\");\n\nconst CM_OPTS = {\n  mode: \"text/javascript\",\n  theme: \"jsviz\",\n  lineNumbers: false,\n  smartIndent: true,\n  tabSize: 2,\n  indentWithTabs: false\n};\n\nexport default function App() {\n  const inst = useRef({ editor: null, marker: null });\n  const [code, setCode] = usePersistedCode(`let x = 42;`);\n  const { error, runtimeError, history } = useMemo(() => {\n    try {\n      return record(code);\n    } catch (error) {\n      return { error };\n    }\n  }, [code]);\n\n  const [_stepno, setStepno] = usePersistedStepno(0);\n  const [maxDetail, setMaxDetail] = usePersistedMaxDetail(2);\n\n  const visibleHistory =\n    history && history.length > 0\n      ? history.filter(({ detail }) => detail <= maxDetail)\n      : null;\n\n  const stepno = Math.max(\n    0,\n    Math.min(_stepno, (visibleHistory || []).length - 1)\n  );\n\n  // step = { context, node, pre, summary, detail }\n  const step = visibleHistory ? visibleHistory[stepno] : null;\n\n  useEffect(() => {\n    if (!inst.current.editor) return;\n    inst.current.marker && inst.current.marker.clear();\n\n    if (!step) return;\n    const doc = inst.current.editor.getDoc();\n    const loc = step.node.loc;\n    inst.current.marker = doc.markText(\n      { line: loc.start.line - 1, ch: loc.start.column },\n      { line: loc.end.line - 1, ch: loc.end.column },\n      {\n        className: step.pre ? styles.markedPre : styles.markedPost\n      }\n    );\n  }, [inst, step]);\n\n  return (\n    <div className=\"app\">\n      <div className={styles.code}>\n        <CodeMirror\n          className=\"editable\"\n          options={CM_OPTS}\n          editorDidMount={editor => (inst.current.editor = editor)}\n          value={code}\n          onBeforeChange={(editor, data, value) => {\n            setCode(value || \"\");\n          }}\n        />\n      </div>\n      {(error || !visibleHistory) && <hr className={styles.emptyDivider} />}\n      {error && (\n        <div className={styles.main}>\n          <div className={styles.error}>\n            <p>Compile error: {error.message}</p>\n          </div>\n        </div>\n      )}\n      {visibleHistory && (\n        <div>\n          <HistoryTimeline\n            value={stepno}\n            onChange={setStepno}\n            history={visibleHistory}\n            runtimeError={runtimeError}\n          />\n          <div className={styles.main}>\n            {/* <div>\n              <label>\n                Step{\" \"}\n                <input\n                  style={{ width: \"400px\" }}\n                  min={0}\n                  max={visibleHistory.length - 1}\n                  step={1}\n                  value={stepno}\n                  onChange={e => setStepno(e.target.value)}\n                  type=\"range\"\n                />\n              </label>\n            </div> */}\n            <div>\n              <label>\n                Expression detail?{\" \"}\n                <input\n                  type=\"checkbox\"\n                  checked={maxDetail === 2}\n                  onChange={() => setMaxDetail(3 - maxDetail)}\n                />\n              </label>\n            </div>\n            <Viz step={step} />\n            {runtimeError && (\n              <div className={styles.error}>\n                <p>Runtime error: {runtimeError.message}</p>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./App\";\nimport \"./assets/global.scss\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nrender(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}